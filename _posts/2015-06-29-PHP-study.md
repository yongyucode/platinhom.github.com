---
layout: post_small
title: PHP学习笔记
date: 2015-06-28 19:30:21
categories: CompSci
tags: PHP
---

周末, 冲杯咖啡, 好好看看PHP玩玩. :)  

## 基础知识
- PHP就是HTML基础上插入php语句块的语言.直观变为html.所以PHP输出时经常要带标签,<br/>,`&nbsp`一类.
- `<?php ....?>` PHP语法代码块.会被翻译处理后成HTML处理.
- 必须语句分隔符:`;`,除了最后一句,基本是必须的,因为PHP是HTML类似的紧凑型的排版.单独一个`;`可以代替空语句.
- 三种注释: `//`以及`#`行注释,`/*...*/`块注释.
- PHP对类名,函数,关键词大小写不敏感,但是对变量名敏感.
- 宽松型语法,经常有多表达支持.例如数组元素$arr[n],$arr{n}都可以.
- 语法有点bash和现代类c语言的混杂..
- 输出大于和小于号请用`&gt`和`&lt`.

## 数据类型,变量,数组,运算比较等基础元素

- 宽松的类型, 所以不需要声明变量类型.
- 变量赋值(定义同时赋值):`$varname=value`.变量分`global`(只能函数外调用,函数内调用不能,这点和别的不太一样),`local`(函数内)和`static`(需要额外用关键词声明,生命期长local,一直存在).函数内调用函数外变量: `global $var`声明 或者`$GLOBAL['var']` (全局变量数组).
- `unset($var)` 注销变量或数组
- `$i++` 支持,`$i+=` 支持.
- 字符串: 字符串用`".."`(变量翻译)或`'..'`(变量保持原表示). 串接用`.`.

## 数组,列表,结构一类数据结构

- 数组: `$var=array(1,2,3)`, 调用时序号从`0`开始,用`$var[n]`调用,也支持用`$var{n}`调用.可以用`unset($var[n]`删掉某个元素(不影响后面),也可以整个数组`unset($arr)`.
- 关联数组(类似字典): `$var=array("name"=>value, ...)`  本质是特殊的数组,用`=>`去映射.
- 多维数组: `$var=array(array(),array()...)`; 调用$var[n1][n2],n1是最外层的.

## 循环判断函数

比较:`<,>,<=,>=!=,==`, 或`||`
if (条件表达式){;} elseif(条件){;};else{;}
switch($var){case value:..;break;...default:...;} 和一般的类似,没有break会一起执行.
switch($var): 和上一样 ; endswitch;  另一种表达的语法糖..蛋疼.
foreach ($array as $var){;}
对于字典,有 foreach ($dicname as $indexname=>$value)来获取..
for($i=1;$i<10;$i=$i+1){...;}
while(条件){..;} 另一种表达: while(): ....; endwhile;
do{....;} while(条件);
function name($var1,$var2) {statement;[return val/var];}

## 对象

class classname{public $element; private function(){}; } 
$var=new Classname(); 创建对象,会调用构造函数.
调用属性或函数用`->`. $var->name. 注意后者不再要`$name`.
function __contruct(){} 构造函数, $this 对象自身.
常量属性用`const` 声明, 用`::`调用. 常量调用或定义不用`$`在前面! 没有对象都可以调用类里的常量(用`::`). const不能和public共存.
静态变量用`static` 声明, 可以用`类名::属性/方法`调用.

class newclass extends oldclass{} 继承.
重新声明同样名字的属性/方法对母类进行覆盖. 不想被覆盖, 就在母类里在public前面声明`final`.

## 常用命令

~~~ javascript
echo "str"/$var/("str")/$var,$var2; //直接输出,无返回,可多个(用,)一起输出.{$var}的大括号不输出,整体性.
print "str"/$var/("str") //也是直接输出,只能输出一个字符串,返回1.

strlen(str) //字符串长
substr(str,start,length) //从第几位开始获取长度length子串,start是从0开始算的.
strtoupper(str),strtolower(str) //大写化和小写化.
strps(str,substr) //返回匹配子串第一个位置.没有返回false.

round(var[,n]) //四舍五入, n可以指明四舍五入后变成n位小数.
rand([min,max]) //从min到max的随机整数,不输入默认0~32767. rand(0,1); 随机出数0/1.

array_push(array,value); //推入元素到数组
count(array) //返回数组元素数量
sort(array) //从小到大排序, 相反是rsort(array). 会改变数组顺序.
join('sub',array) //用sub串连接数组各个元素.

is_a($var, "ClassName") //是否该对象属于该类.
property_exists($var,"pro")  //是否有该属性
method_exists($var,"methodname") //是否有该方法
M_PI //内建常量,不用`$`调用,3.14.
~~~




[phpstorm](https://www.jetbrains.com/phpstorm/)据说是个不错的IDE. 用ST3其实也不错,[建议玩法](http://wasil.org/sublime-text-3-perfect-php-development-set-up).

## Reference

1. [W3School-PHP](http://www.w3school.com.cn/php/)


---
