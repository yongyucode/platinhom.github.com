---
layout: post
title: C++基础篇
date: 2015-07-08 02:30:34
categories: CompSci
tags: C++
---
C++太复杂了,请注意各种关键词和操作符.最基础是掌握好32个C关键词和操作符,然后是C++元素的额外31个关键词. 其中,asm,volatile,export很少用,export在C++11废弃.

## C++常识

## C++内建类型
10个C关键词: short int long signed unsigned float double char void typedef  
5个C++关键词: bool true false wchar\_t typeid

- `int`,`float`,`double`: 整型,单浮点,双浮点,对应4,4,8字节一般.整型支持8进制065,以0开头;16进制0x2A,0x开头.支持2E-10的科学表达式. float型储存是”符号+.1234+指数部分”形式储存的
- `signed`,`unsigned`: 正负数修饰符,默认signed带负数,unsigned不带负数(>=0),所以可表达的范围加倍.
- `short`,`long`: 常用整形修饰符,一般对应2,4字节的int(默认long).long也可修饰double.用short/long单独可以忽略后面的int.
- `bool`型用**小写**`true`和`false`,分别对应非零值和零
- `char`型字符型,`char*` 对应字符数组(字符串).单字节,可以用unsigned修饰.数值对应ascii表字符.字符型指明用单引号char var=’A’,也可用ACII码char var=65
- `void`型无类型,一般用于无返回的函数的返回类型,在VS中main函数经常用void返回型,非正规用法.

### typedef
自定义新类型名字来代表某种可用的类型,提高可读性

~~~cpp
typedef Oldtype Newtype
typedef int NUM10[10]
typedef unsigned long NUM
~~~

## C++变量和常量
5个C关键词: auto static register extern const volatile  
6个C++关键词: namespace using dynamic\_cast const\_cast reinterpret\_cast static\_cast

变量使用前必须声明, 和python不同. [修饰符]类型 var1,var2….; 也可只用修饰符,例如short var;

### 命名空间

### [volatile变量](https://zh.wikipedia.org/wiki/Volatile%E5%8F%98%E9%87%8F)
使用很少的关键词,在类型前声明变量为易变的.意义在于告诉编译器该变量可能被其余程序等进行修改,不要对其进行优化,要从原址取值.C++里面比较高级的用法才用到,非基础性关键词.32个C关键词里最偏的一个.

## 操作符和表达式
1个C关键词: sizeof

## C++指针简介
2个C++关键词: new delete

### 指针定义和操作

### 动态指针

## 数据结构
3个C关键词: struc enum union

### 数组

### 多维数组

### struc结构

### enum枚举型

### union联合型

## C++控制与循环
11个C关键词: if else switch case break default for while do continue goto

### if语句

~~~cpp
if (条件1) {
	语句块1;
} else if(条件2){
	语句块2;
} else {
	语句块3;
}
if (条件3) 单语句;
~~~

### switch语句

~~~cpp
switch(var) {
	case value: 语句1; //选择1,多个case
		break;    //没有则继续运行后面的case,直到break;
	default: 语句2;  //全都不符时执行default,没有break
}
~~~

### 条件运算符(三元运算符) 
`c=(a>b)?a:b;` 就是bool?true:false的简化if,意思是如果a>b真则c=a,否则c=b

### for循环

~~~cpp
for (变量起始;循环条件;变量操作){
	循环语句块;
	[break/continue;]//跳出循环,while循环一样使用
}
for (int i=1; i<100; i++){
	cout<<i<<";"<<endl;
}
//三个子句都可以忽略.但要留下分号.
int j=0;
for (;;){
	if (j>10) break;
	j++;
}
~~~

### while循环

~~~cpp
while (循环条件){
	循环语句块;
	[break/continue;]
}

//最少运行一次的do..while
do {
	循环语句块;
} while(循环条件);//别忘了分号
~~~

### goto语句
可以控制作为循环或语句跨越跳转.一般建议慎用.  
需要`标签: `作为标示位点.

~~~cpp
myLabel1: 表达式1;
...
//条件真
goto myLabel1; 
//条件假
goto myLabel2;
...
myLabel2: 表达式2;
~~~

## C++函数
1个C关键词: return  
4个C++关键词: inline template typename export

### 函数定义及调用

### 函数参数

### inline内联函数

- 内置函数(内联函数,内嵌函数)是将函数代码直接插入调用处的一种函数,能提高执行速度,不用通过外调度,但会增加程序大小,一般适用于短代码而且频繁使用的函数.
- inline关键词可使用在原型声明或定义中,效果一样.

~~~cpp
inline 返回类型 函数名(形参表){
	...;
}
~~~

### template函数模板

- template声明模板,尖括号class或typename后跟可能用到的形参类型. T,U这里是虚拟的类型.  
- 在函数实体中,相应的T将被替换为实例时对应的具体类型.
- 函数模板只适用于**函数参数个数相同且类型不同,函数体也相同**.
- 函数模板只是字面上少点,实际还是在内存创建了不同的函数,大小不会小反而可能更大(因为有限函数定义时可强制转换).
- 强制只生成某种函数形式,可以在函数模板后跟float max(float,int); 来限定创建的形式.

~~~cpp
template<class T,U> T max(T x[],…){
	T var;	
}
~~~

[typename](https://zh.wikipedia.org/wiki/Typename)关键字: 声明模板中临时类型名.也可以用class代替.

## C++类
10个C++关键词: class private public protected this friend virtual operator mutable explicit

## C++ 异常和调试
3个C++关键词: try catch throw 

## 与其他语言的调用
1个C++关键词: asm

内联汇编

~~~cpp
//汇编语句块
__asm{
   mov al, 2
   mov dx, 0xD007
   out al, dx
}
//汇编单句
__asm mov al, 2
~~~

## C++的63个保留关键字

asm | **auto** | bool | **break** | **case** | catch | **char** 
class | **const** | const\_cast | **continue** | **default** | delete | **do** 
**double** | dynamic\_cast | **else** | **enum** | explicit | export | **extern** 
false | **float** | **for** | friend | **goto** | **if** | inline 
**int** | **long** | mutable | namespace | new | operator | private 
protected | public | **register** | reinterpret\_cast | **return** | **short** | **signed**
**sizeof** | **static** | static\_cast | **struct** | **switch** | template | this
throw | true | try | **typedef** | typeid | typename | **union** 
**unsigned** | using | virtual | **void** | **volatile** | wchar\_t | **while**

## C++11 新增关键词

alignas | alignof | char16\_t | char32\_t | constexpr | decltype 
noexcept | nullptr | static\_assert | thread\_local | 

## C的32个保留关键字

char | short | int | unsigned | long | float | double | struct
union | void | enum | signed | const | *volatile* | typedef | auto
register | static | extern | break | case | continue | default | do
else | for | goto | if | return | switch | while | sizeof

## C99新增关键字

_Bool | _Complex | _Imaginary | inline | restrict

## C11新增关键字

_Alignas | _Alignof | _Atomic | _Generic | _Noreturn | \_Static\_assert | \_Thread\_loca


## Reference

1. [C++wiki](https://zh.wikipedia.org/zh-cn/C++)
2. [C wiki](https://zh.wikipedia.org/wiki/C%E8%AF%AD%E8%A8%80)
3. [百度-C++关键字](http://baike.baidu.com/view/3111818.htm#reference-[1]-3111818-wrap)

---
